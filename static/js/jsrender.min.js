/* eslint-disable */
/*! JsRender v1.0.15: http://jsviews.com/#jsrender */
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */
/*
 * Best-of-breed templating in browser or on Node.js.
 * Does not require jQuery, or HTML DOM
 * Integrates with JsViews (http://jsviews.com/#jsviews)
 *
 * Copyright 2024, Boris Moore
 * Released under the MIT License.
 */
"use strict";
var factory, global, $;
function _type_of(t) {
    return t && "undefined" != typeof Symbol && t.constructor === Symbol
        ? "symbol"
        : typeof t;
}
(factory = function (t, e) {
    var n = !1 === e;
    e = e && e.fn ? e : t.jQuery;
    var r,
        i,
        o,
        s,
        a,
        d,
        l,
        p,
        c,
        u,
        f,
        g,
        h,
        v,
        _,
        m,
        b,
        x,
        w,
        y,
        C,
        k,
        j = "v1.0.15",
        T = "_ocp",
        A = /[ \t]*(\r\n|\n|\r)/g,
        P = /\\(['"\\])/g,
        $ = /['"\\]/g,
        F =
            /(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,
        N = /^if\s/,
        R = /<(\w+)[>\s]/,
        M = /[\x00`><\"'&=]/,
        V = /^on[A-Z]|^convert(Back)?$/,
        E = /^\#\d+_`[\s\S]*\/\d+_`$/,
        O = /[\x00`><"'&=]/g,
        I = /[&<>]/g,
        S = /&(amp|gt|lt);/g,
        D = /\[['"]?|['"]?\]/g,
        q = 0,
        U = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            "\0": "&#0;",
            "'": "&#39;",
            '"': "&#34;",
            "`": "&#96;",
            "=": "&#61;",
        },
        K = { amp: "&", gt: ">", lt: "<" },
        J = "html",
        B = "string",
        L = "object",
        Q = "data-jsv-tmpl",
        H = "jsvTmpl",
        W = "For #index in nested block use #getIndex().",
        Z = {},
        z = {},
        G = t.jsrender,
        X = G && e && !e.render,
        Y = {
            template: {
                compile: function t(n, r, i, o) {
                    function a(r) {
                        var s, a;
                        if (
                            (void 0 === r ? "undefined" : _type_of(r)) === B ||
                            (r.nodeType > 0 && (d = r))
                        ) {
                            if (
                                !d &&
                                (/^\.?\/[^\\:*?"<>]*$/.test(r)
                                    ? (a = p[(n = n || r)])
                                        ? (r = a)
                                        : (d = document.getElementById(r))
                                    : "#" === r.charAt(0) &&
                                      (d = document.getElementById(r.slice(1))),
                                !d && e.fn && !g.rTmpl.test(r))
                            )
                                try {
                                    d = e(r, document)[0];
                                } catch (t) {}
                            d &&
                                ("SCRIPT" !== d.tagName &&
                                    wt(
                                        r +
                                            ": Use script block, not " +
                                            d.tagName
                                    ),
                                o
                                    ? (r = d.innerHTML)
                                    : ((s = d.getAttribute(Q)) &&
                                          (s !== H
                                              ? ((r = p[s]), delete p[s])
                                              : e.fn && (r = e.data(d)[H])),
                                      (s && r) ||
                                          (r = t(
                                              (n = n || (e.fn ? H : r)),
                                              d.innerHTML,
                                              i,
                                              o
                                          )),
                                      (r.tmplName = n = n || s),
                                      n !== H && (p[n] = r),
                                      d.setAttribute(Q, n),
                                      e.fn && e.data(d, H, r))),
                                (d = void 0);
                        } else r.fn || (r = void 0);
                        return r;
                    }
                    var d,
                        l,
                        u = (r = r || "");
                    if (
                        ((g._html = c.html),
                        0 === o && ((o = void 0), (u = a(u))),
                        ((o =
                            o ||
                            (r.markup
                                ? r.bnds
                                    ? st({}, r)
                                    : r
                                : {})).tmplName = o.tmplName || n || "unnamed"),
                        i && (o._parentTmpl = i),
                        !u &&
                            r.markup &&
                            (u = a(r.markup)) &&
                            u.fn &&
                            (u = u.markup),
                        void 0 !== u)
                    )
                        return (
                            u.render || r.render
                                ? u.tmpls && (l = u)
                                : ((r = vt(u, o)), Ct(u.replace($, "\\$&"), r)),
                            l ||
                                (function (t) {
                                    var e, n, r;
                                    for (e in Y)
                                        t[(n = e + "s")] &&
                                            ((r = t[n]),
                                            (t[n] = {}),
                                            s[n](r, t));
                                })(
                                    (l = st(function () {
                                        return l.render.apply(l, arguments);
                                    }, r))
                                ),
                            l
                        );
                },
            },
            tag: {
                compile: function (t, e, n) {
                    var r,
                        i,
                        o,
                        s = new g._tg();
                    function a() {
                        (this._ = { unlinked: !0 }),
                            (this.inline = !0),
                            (this.tagName = t);
                    }
                    if (
                        (d(e)
                            ? (e = { depends: e.depends, render: e })
                            : (void 0 === e ? "undefined" : _type_of(e)) ===
                                  B && (e = { template: e }),
                        (i = e.baseTag))
                    )
                        for (o in ((e.flow = !!e.flow),
                        (i =
                            (void 0 === i ? "undefined" : _type_of(i)) === B
                                ? (n && n.tags[i]) || f[i]
                                : i) ||
                            wt('baseTag: "' + e.baseTag + '" not found'),
                        (s = st(s, i)),
                        e))
                            s[o] = et(i[o], e[o]);
                    else s = st(s, e);
                    return (
                        void 0 !== (r = s.template) &&
                            (s.template =
                                (void 0 === r ? "undefined" : _type_of(r)) === B
                                    ? p[r] || p(r)
                                    : r),
                        ((a.prototype = s).constructor = s._ctr = a),
                        n && (s._parentTmpl = n),
                        s
                    );
                },
            },
            viewModel: {
                compile: function (t, n) {
                    var r,
                        i,
                        o,
                        s = this,
                        p = n.getters,
                        c = n.extend,
                        u = n.id,
                        f = e.extend(
                            { _is: t || "unnamed", unmap: C, merge: y },
                            c
                        ),
                        g = "",
                        h = "",
                        v = p ? p.length : 0,
                        _ = e.observable,
                        m = {};
                    function b(t) {
                        i.apply(this, t);
                    }
                    function x() {
                        return new b(arguments);
                    }
                    function w(t, e) {
                        for (var n, r, i, o, a, l, c = 0; c < v; c++)
                            (r = void 0),
                                (void 0 === (o = p[c])
                                    ? "undefined"
                                    : _type_of(o)) !== B &&
                                    ((o = (r = o).getter), (l = r.parentRef)),
                                void 0 === (a = t[o]) &&
                                    r &&
                                    void 0 !== (i = r.defaultVal) &&
                                    (a = d((n = i)) ? n.call(t) : n),
                                e(a, r && s[r.type], o, l);
                    }
                    function y(t, e, n) {
                        t =
                            (void 0 === t ? "undefined" : _type_of(t)) === B
                                ? JSON.parse(t)
                                : t;
                        var r,
                            i,
                            o,
                            s,
                            d,
                            p,
                            c,
                            f,
                            g,
                            h,
                            v = 0,
                            b = this;
                        if (l(b)) {
                            for (
                                c = {}, g = [], i = t.length, o = b.length;
                                v < i;
                                v++
                            ) {
                                for (r = 0, f = t[v], p = !1; r < o && !p; r++)
                                    !c[r] &&
                                        ((d = b[r]),
                                        u &&
                                            (c[r] = p =
                                                (void 0 === u
                                                    ? "undefined"
                                                    : _type_of(u)) === B
                                                    ? f[u] &&
                                                      (m[u] ? d[u]() : d[u]) ===
                                                          f[u]
                                                    : u(d, f)));
                                p
                                    ? (d.merge(f), g.push(d))
                                    : (g.push((h = x.map(f))),
                                      n && ht(h, n, e));
                            }
                            _
                                ? _(b).refresh(g, !0)
                                : b.splice.apply(b, [0, b.length].concat(g));
                        } else
                            for (s in (w(t, function (t, e, n, r) {
                                e
                                    ? b[n]().merge(t, b, r)
                                    : b[n]() !== t && b[n](t);
                            }),
                            t))
                                s === a || m[s] || (b[s] = t[s]);
                    }
                    function C() {
                        var t,
                            e,
                            n,
                            r,
                            i = 0;
                        function o(t) {
                            for (var e = [], n = 0, r = t.length; n < r; n++)
                                e.push(t[n].unmap());
                            return e;
                        }
                        if (l(this)) return o(this);
                        for (t = {}; i < v; i++)
                            (n = void 0),
                                (void 0 === (e = p[i])
                                    ? "undefined"
                                    : _type_of(e)) !== B &&
                                    (e = (n = e).getter),
                                (r = this[e]()),
                                (t[e] =
                                    n && r && s[n.type]
                                        ? l(r)
                                            ? o(r)
                                            : r.unmap()
                                        : r);
                        for (e in this)
                            !this.hasOwnProperty(e) ||
                                ("_" === e.charAt(0) && m[e.slice(1)]) ||
                                e === a ||
                                d(this[e]) ||
                                (t[e] = this[e]);
                        return t;
                    }
                    for (r = 0, b.prototype = f; r < v; r++)
                        !(function (t) {
                            m[(t = t.getter || t)] = r + 1;
                            var e = "_" + t;
                            (g += (g ? "," : "") + t),
                                (h += "this." + e + " = " + t + ";\n"),
                                (f[t] =
                                    f[t] ||
                                    function (n) {
                                        if (!arguments.length) return this[e];
                                        _
                                            ? _(this).setProperty(t, n)
                                            : (this[e] = n);
                                    }),
                                _ &&
                                    (f[t].set =
                                        f[t].set ||
                                        function (t) {
                                            this[e] = t;
                                        });
                        })(p[r]);
                    return (
                        (h = Function(g, h)),
                        ((i = function () {
                            h.apply(this, arguments),
                                (o = arguments[v + 1]) &&
                                    ht(this, arguments[v], o);
                        }).prototype = f),
                        (f.constructor = i),
                        (x.map = function (e) {
                            var n,
                                r,
                                i,
                                o,
                                s = 0,
                                d = (e =
                                    (void 0 === e
                                        ? "undefined"
                                        : _type_of(e)) === B
                                        ? JSON.parse(e)
                                        : e),
                                c = [];
                            if (l(e)) {
                                for (n = (e = e || []).length; s < n; s++)
                                    c.push(this.map(e[s]));
                                return (
                                    (c._is = t), (c.unmap = C), (c.merge = y), c
                                );
                            }
                            if (e) {
                                for (
                                    w(e, function (t, e) {
                                        e && (t = e.map(t)), c.push(t);
                                    }),
                                        d = this.apply(this, c),
                                        s = v;
                                    s--;

                                )
                                    if (
                                        ((i = c[s]),
                                        (o = p[s].parentRef) && i && i.unmap)
                                    )
                                        if (l(i))
                                            for (n = i.length; n--; )
                                                ht(i[n], o, d);
                                        else ht(i, o, d);
                                for (r in e) r === a || m[r] || (d[r] = e[r]);
                            }
                            return d;
                        }),
                        (x.getters = p),
                        (x.extend = c),
                        (x.id = u),
                        x
                    );
                },
            },
            helper: {},
            converter: {},
        };
    function tt(t, e) {
        return function () {
            var n,
                r = this.base;
            return (
                (this.base = t),
                (n = e.apply(this, arguments)),
                (this.base = r),
                n
            );
        };
    }
    function et(t, e) {
        return (
            d(e) &&
                ((e = tt(t ? (t._d ? t : tt(it, t)) : it, e))._d =
                    ((t && t._d) || 0) + 1),
            e
        );
    }
    function nt(t, e) {
        var n,
            r = e.props;
        for (n in r)
            V.test(n) &&
                (!t[n] || !t[n].fix) &&
                (t[n] =
                    "convert" !== n
                        ? et(t.constructor.prototype[n], r[n])
                        : r[n]);
    }
    function rt(t) {
        return t;
    }
    function it() {
        return "";
    }
    function ot(t) {
        (this.name = (e.link ? "JsViews" : "JsRender") + " Error"),
            (this.message = t || this.name);
    }
    function st(t, e) {
        if (t) {
            for (var n in e) t[n] = e[n];
            return t;
        }
    }
    function at() {
        var t = this.get("item");
        return t ? t.index : void 0;
    }
    function dt() {
        return this.index;
    }
    function lt(t, e, n, r) {
        var i,
            o,
            s,
            a = 0;
        if ((1 === n && ((r = 1), (n = void 0)), e))
            for (s = (o = e.split(".")).length; t && a < s; a++)
                (i = t), (t = o[a] ? t[o[a]] : t);
        return (
            n && (n.lt = n.lt || a < s),
            void 0 === t
                ? r
                    ? it
                    : ""
                : r
                  ? function () {
                        return t.apply(i, arguments);
                    }
                  : t
        );
    }
    function pt(n, r, i) {
        var o,
            s,
            a,
            l,
            p,
            c,
            f,
            h = this,
            v = !k && arguments.length > 1,
            _ = h.ctx;
        if (n) {
            if (
                (h._ || ((p = h.index), (h = h.tag)),
                (c = h),
                (_ && _.hasOwnProperty(n)) || (_ = u).hasOwnProperty(n))
            ) {
                if (
                    ((a = _[n]),
                    "tag" === n ||
                        "tagCtx" === n ||
                        "root" === n ||
                        "parentTags" === n)
                )
                    return a;
            } else _ = void 0;
            if (
                ((!k && h.tagCtx) || h.linked) &&
                ((a && a._cxp) ||
                    ((h =
                        h.tagCtx || d(a)
                            ? h
                            : (!(h = h.scope || h).isTop && h.ctx.tag) || h),
                    void 0 !== a && h.tagCtx && (h = h.tagCtx.view.scope),
                    ((a =
                        ((_ = h._ocps) && _.hasOwnProperty(n) && _[n]) || a) &&
                        a._cxp) ||
                        (!i && !v) ||
                        (((_ || (h._ocps = h._ocps || {}))[n] = a =
                            [{ _ocp: a, _vw: c, _key: n }]),
                        (a._cxp = {
                            path: T,
                            ind: 0,
                            updateValue: function (t, n) {
                                return (
                                    e.observable(a[0]).setProperty(T, t), this
                                );
                            },
                        }))),
                (l = a && a._cxp))
            ) {
                if (arguments.length > 2)
                    return (
                        (s = a[1] ? g._ceo(a[1].deps) : [T]).unshift(a[0]),
                        (s._cxp = l),
                        s
                    );
                if (
                    ((p = l.tagElse),
                    (f = a[1]
                        ? l.tag && l.tag.cvtArgs
                            ? l.tag.cvtArgs(p, 1)[l.ind]
                            : a[1](a[0].data, a[0], g)
                        : a[0]._ocp),
                    v)
                )
                    return g._ucp(n, r, h, l), h;
                a = f;
            }
            return (
                a &&
                    d(a) &&
                    st(
                        (o = function () {
                            return a.apply(
                                this && this !== t ? this : c,
                                arguments
                            );
                        }),
                        a
                    ),
                o || a
            );
        }
    }
    function ct(t, e) {
        var n,
            r,
            i,
            o,
            s,
            a,
            d,
            p = this;
        if (p.tagName) {
            if (!(p = ((a = p).tagCtxs || [p])[t || 0])) return;
        } else a = p.tag;
        if (
            ((s = a.bindFrom),
            (o = p.args),
            (d = a.convert) &&
                (void 0 === d ? "undefined" : _type_of(d)) === B &&
                (d =
                    "true" === d
                        ? void 0
                        : p.view.getRsc("converters", d) ||
                          wt("Unknown converter: '" + d + "'")),
            d && !e && (o = o.slice()),
            s)
        ) {
            for (i = [], n = s.length; n--; ) (r = s[n]), i.unshift(ut(p, r));
            e && (o = i);
        }
        if (d) {
            if (void 0 === (d = d.apply(a, i || o))) return o;
            if (
                ((n = (s = s || [0]).length),
                (!l(d) ||
                    (!1 !== d.arg0 && (1 === n || d.length !== n || d.arg0))) &&
                    ((d = [d]), (s = [0]), (n = 1)),
                e)
            )
                o = d;
            else for (; n--; ) +(r = s[n]) === r && (o[r] = d[n]);
        }
        return o;
    }
    function ut(t, e) {
        return (t = t[+e === e ? "args" : "props"]) && t[e];
    }
    function ft(t) {
        return this.cvtArgs(t, 1);
    }
    function gt(t, e, n, r, i, o, s, a) {
        var d,
            l,
            p,
            c = "array" === e;
        (this.content = a),
            (this.views = c ? [] : {}),
            (this.data = r),
            (this.tmpl = i),
            (p = this._ =
                { key: 0, useKey: +!c, id: "" + q++, onRender: s, bnds: {} }),
            (this.linked = !!s),
            (this.type = e || "top"),
            e && (this.cache = { _ct: h._cchCt }),
            (n && "top" !== n.type) || ((this.ctx = t || {}).root = this.data),
            (this.parent = n)
                ? ((this.root = n.root || this),
                  (d = n.views),
                  (l = n._),
                  (this.isTop = l.scp),
                  (this.scope =
                      ((!t.tag || t.tag === n.ctx.tag) &&
                          !this.isTop &&
                          n.scope) ||
                      this),
                  l.useKey
                      ? ((d[(p.key = "_" + l.useKey++)] = this),
                        (this.index = W),
                        (this.getIndex = at))
                      : d.length === (p.key = this.index = o)
                        ? d.push(this)
                        : d.splice(o, 0, this),
                  (this.ctx = t || n.ctx))
                : e && (this.root = this);
    }
    function ht(t, e, n) {
        Object.defineProperty(t, e, { value: n, configurable: !0 });
    }
    function vt(t, n) {
        var r,
            i = v._wm || {},
            o = { tmpls: [], links: {}, bnds: [], _is: "template", render: bt };
        return (
            n && (o = st(o, n)),
            (o.markup = t),
            o.htmlTag ||
                ((r = R.exec(t)), (o.htmlTag = r ? r[1].toLowerCase() : "")),
            (r = i[o.htmlTag]) && r !== i.div && (o.markup = e.trim(o.markup)),
            o
        );
    }
    function _t(t) {
        _[t] =
            _[t] ||
            function (e) {
                return arguments.length ? ((h[t] = e), _) : h[t];
            };
    }
    function mt(t) {
        function e(e, n) {
            (this.tgt = t.getTgt(e, n)), (n.map = this);
        }
        return (
            d(t) && (t = { getTgt: t }),
            t.baseMap && (t = st(st({}, t.baseMap), t)),
            (t.map = function (t, n) {
                return new e(t, n);
            }),
            t
        );
    }
    function bt(t, e, n, r, i, s) {
        var a,
            p,
            c,
            u,
            f,
            h,
            _,
            m = r,
            b = "";
        if (
            (!0 === e
                ? ((n = e), (e = void 0))
                : (void 0 === e ? "undefined" : _type_of(e)) !== L &&
                  (e = void 0),
            (c = this.tag)
                ? ((u = (m = m || this.view)._getTmpl(c.template || this.tmpl)),
                  arguments.length ||
                      (t =
                          c.contentCtx && d(c.contentCtx)
                              ? (t = c.contentCtx(t))
                              : m))
                : (u = this),
            u)
        ) {
            if (
                (!r && t && "view" === t._is && (m = t),
                m && t === m && (t = m.data),
                (f = !m),
                (k = k || f),
                f && ((e = e || {}).root = t),
                !k || v.useViews || u.useViews || (m && m !== o))
            )
                b = xt(u, t, e, n, m, i, s, c);
            else {
                if (
                    (m
                        ? ((h = m.data), (_ = m.index), (m.index = W))
                        : ((h = (m = o).data), (m.data = t), (m.ctx = e)),
                    l(t) && !n)
                )
                    for (a = 0, p = t.length; a < p; a++)
                        (m.index = a), (m.data = t[a]), (b += u.fn(t[a], m, g));
                else (m.data = t), (b += u.fn(t, m, g));
                (m.data = h), (m.index = _);
            }
            f && (k = void 0);
        }
        return b;
    }
    function xt(t, e, n, r, i, o, s, a) {
        var d,
            p,
            c,
            u,
            f,
            h,
            v,
            _,
            m,
            b,
            x,
            w,
            y,
            C = "";
        if (
            (a &&
                ((m = a.tagName),
                (w = a.tagCtx),
                (n = n ? Pt(n, a.ctx) : a.ctx),
                t === i.content
                    ? (v = t !== i.ctx._wrp ? i.ctx._wrp : void 0)
                    : t !== w.content
                      ? t === a.template
                          ? ((v = w.tmpl), (n._wrp = w.content))
                          : (v = w.content || i.content)
                      : (v = i.content),
                !1 === w.props.link && ((n = n || {}).link = !1)),
            i &&
                ((s = s || i._.onRender),
                (y = n && !1 === n.link) && i._.nl && (s = void 0),
                (n = Pt(n, i.ctx)),
                (w = !a && i.tag ? i.tag.tagCtxs[i.tagElse] : w)),
            (b = w && w.props.itemVar) &&
                ("~" !== b[0] && yt("Use itemVar='~myItem'"), (b = b.slice(1))),
            !0 === o && ((h = !0), (o = 0)),
            s && a && a._.noVws && (s = void 0),
            (_ = s),
            !0 === s && ((_ = void 0), (s = i._.onRender)),
            (x = n = t.helpers ? Pt(t.helpers, n) : n),
            l(e) && !r)
        )
            for (
                (c = h
                    ? i
                    : (void 0 !== o && i) ||
                      new gt(n, "array", i, e, t, o, s, v))._.nl = y,
                    i &&
                        i._.useKey &&
                        ((c._.bnd = !a || (a._.bnd && a)), (c.tag = a)),
                    d = 0,
                    p = e.length;
                d < p;
                d++
            )
                (u = new gt(x, "item", c, e[d], t, (o || 0) + d, s, c.content)),
                    b && ((u.ctx = st({}, x))[b] = g._cp(e[d], "#data", u)),
                    (f = t.fn(e[d], u, g)),
                    (C += c._.onRender ? c._.onRender(f, u) : f);
        else
            (c = h ? i : new gt(x, m || "data", i, e, t, o, s, v)),
                b && ((c.ctx = st({}, x))[b] = g._cp(e, "#data", c)),
                (c.tag = a),
                (c._.nl = y),
                (C += t.fn(e, c, g));
        return (
            a && ((c.tagElse = w.index), (w.contentView = c)), _ ? _(C, c) : C
        );
    }
    function wt(t) {
        throw new g.Err(t);
    }
    function yt(t) {
        wt("Syntax error\n" + t);
    }
    function Ct(t, e, n, r, o) {
        function s(e) {
            (e -= v) && y.push(t.substr(v, e).replace(A, "\\n"));
        }
        function a(e, n) {
            e &&
                ((e += "}}"),
                yt(
                    (n
                        ? "{{" + n + "}} block has {{/" + e + " without {{" + e
                        : "Unmatched or missing {{/" + e) +
                        ", in template:\n" +
                        t
                ));
        }
        var d,
            l,
            p,
            c,
            u,
            f = h.allowCode || (e && e.allowCode) || !0 === _.allowCode,
            g = [],
            v = 0,
            b = [],
            y = g,
            C = [, , g];
        if (
            (f && e._is && (e.allowCode = f),
            n &&
                (void 0 !== r && (t = t.slice(0, -r.length - 2) + x),
                (t = m + t + w)),
            a(b[0] && b[0][2].pop()[0]),
            t.replace(i, function (i, d, l, u, g, h, _, m, x, w, k, j) {
                ((_ && d) || (x && !l) || (m && ":" === m.slice(-1)) || w) &&
                    yt(i),
                    h && ((g = ":"), (u = J));
                var T,
                    $,
                    R,
                    M = (d || n) && [[]],
                    E = "",
                    O = "",
                    I = "",
                    S = "",
                    D = "",
                    q = "",
                    U = "",
                    K = "",
                    B = !(x = x || (n && !o)) && !g;
                (l = l || ((m = m || "#data"), g)),
                    s(j),
                    (v = j + i.length),
                    _
                        ? f &&
                          y.push([
                              "*",
                              "\n" +
                                  m.replace(/^:/, "ret+= ").replace(P, "$1") +
                                  ";\n",
                          ])
                        : l
                          ? ("else" === l &&
                                (N.test(m) &&
                                    yt(
                                        'For "{{else if expr}}" use "{{else expr}}"'
                                    ),
                                (M = C[9] && [[]]),
                                (C[10] = t.substring(C[10], j)),
                                ($ = C[11] || C[0] || yt("Mismatched: " + i)),
                                (y = (C = b.pop())[2]),
                                (B = !0)),
                            m &&
                                Tt(m.replace(A, " "), M, e, n)
                                    .replace(
                                        F,
                                        function (t, e, n, r, i, o, s, a) {
                                            return (
                                                "this:" === r &&
                                                    (o = "undefined"),
                                                a && (R = R || "@" === a[0]),
                                                (r = "'" + i + "':"),
                                                s
                                                    ? ((O += n + o + ","),
                                                      (S += "'" + a + "',"))
                                                    : n
                                                      ? ((I +=
                                                            r +
                                                            "j._cp(" +
                                                            o +
                                                            ',"' +
                                                            a +
                                                            '",view),'),
                                                        (q +=
                                                            r + "'" + a + "',"))
                                                      : e
                                                        ? (U += o)
                                                        : ("trigger" === i &&
                                                              (K += o),
                                                          "lateRender" === i &&
                                                              (T =
                                                                  "false" !==
                                                                  a),
                                                          (E += r + o + ","),
                                                          (D +=
                                                              r +
                                                              "'" +
                                                              a +
                                                              "',"),
                                                          (c = c || V.test(i))),
                                                ""
                                            );
                                        }
                                    )
                                    .slice(0, -1),
                            M && M[0] && M.pop(),
                            (p = [
                                l,
                                u || !!r || c || "",
                                B && [],
                                jt(S || (":" === l ? "'#data'," : ""), D, q),
                                jt(O || (":" === l ? "data," : ""), E, I),
                                U,
                                K,
                                T,
                                R,
                                M || 0,
                            ]),
                            y.push(p),
                            B && (b.push(C), ((C = p)[10] = v), (C[11] = $)))
                          : k &&
                            (a(k !== C[0] && k !== C[11] && k, C[0]),
                            (C[10] = t.substring(C[10], j)),
                            (C = b.pop())),
                    a(!C && k),
                    (y = C[2]);
            }),
            s(t.length),
            (v = g[g.length - 1]) &&
                a(
                    (void 0 === v ? "undefined" : _type_of(v)) !== B &&
                        +v[10] === v[10] &&
                        v[0]
                ),
            n)
        ) {
            for (l = At(g, t, n), u = [], d = g.length; d--; )
                u.unshift(g[d][9]);
            kt(l, u);
        } else l = At(g, e);
        return l;
    }
    function kt(t, e) {
        var n,
            r,
            i = 0,
            o = e.length;
        for (t.deps = [], t.paths = []; i < o; i++)
            for (n in (t.paths.push((r = e[i])), r))
                "_jsvto" !== n &&
                    r.hasOwnProperty(n) &&
                    r[n].length &&
                    !r[n].skp &&
                    (t.deps = t.deps.concat(r[n]));
    }
    function jt(t, e, n) {
        return [t.slice(0, -1), e.slice(0, -1), n.slice(0, -1)];
    }
    function Tt(t, n, r, i) {
        var o,
            s,
            a,
            d,
            l,
            p = n && n[0],
            c = { bd: p },
            u = { 0: c },
            f = 0,
            h = 0,
            _ = 0,
            m = {},
            b = 0,
            x = {},
            w = {},
            y = {},
            C = { 0: 0 },
            k = { 0: "" },
            j = 0;
        return (
            "@" === t[0] && (t = t.replace(D, ".")),
            (a = (t + (r ? " " : "")).replace(
                g.rPrm,
                function (
                    r,
                    a,
                    T,
                    A,
                    P,
                    F,
                    N,
                    R,
                    M,
                    V,
                    E,
                    O,
                    I,
                    S,
                    D,
                    q,
                    U,
                    K,
                    J,
                    B,
                    L
                ) {
                    A && !R && (P = A + P),
                        (F = F || ""),
                        (I = I || ""),
                        (T = T || a || I),
                        (P = P || M),
                        V &&
                            (V = !/\)|]/.test(L[B - 1])) &&
                            (P = P.slice(1).split(".").join("^")),
                        (E = E || K || "");
                    var Q,
                        H,
                        W,
                        z,
                        G,
                        X,
                        Y,
                        tt = B;
                    if (!l && !d) {
                        if ((N && yt(t), U && p)) {
                            if (
                                ((Q = y[_ - 1]), L.length - 1 > tt - (Q || 0))
                            ) {
                                if (
                                    ((Q = e.trim(L.slice(Q, tt + r.length))),
                                    (W = (H = s || u[_ - 1].bd)[
                                        H.length - 1
                                    ]) && W.prm)
                                ) {
                                    for (; W.sb && W.sb.prm; ) W = W.sb;
                                    z = W.sb = { path: W.sb, bnd: W.bnd };
                                } else H.push((z = { path: H.pop() }));
                                W &&
                                    W.sb === z &&
                                    ((k[_] = k[_ - 1].slice(W._cpPthSt) + k[_]),
                                    (k[_ - 1] = k[_ - 1].slice(0, W._cpPthSt))),
                                    (z._cpPthSt = C[_ - 1]),
                                    (z._cpKey = Q),
                                    (k[_] += L.slice(j, B)),
                                    (j = B),
                                    (z._cpfn = Z[Q] =
                                        Z[Q] ||
                                        Function(
                                            "data,view,j",
                                            "//" +
                                                Q +
                                                "\nvar v;\nreturn ((v=" +
                                                k[_] +
                                                ("]" === q ? ")]" : q) +
                                                ")!=null?v:null);"
                                        )),
                                    (k[_ - 1] +=
                                        w[h] && v.cache
                                            ? 'view.getCache("' +
                                              Q.replace($, "\\$&") +
                                              '"'
                                            : k[_]),
                                    (z.prm = c.bd),
                                    (z.bnd =
                                        z.bnd ||
                                        (z.path && z.path.indexOf("^") >= 0));
                            }
                            k[_] = "";
                        }
                        "[" === E && (E = "[j._sq("),
                            "[" === T && (T = "[j._sq(");
                    }
                    return (
                        (Y = l
                            ? (l = !S)
                                ? r
                                : I + '"'
                            : d
                              ? (d = !D)
                                  ? r
                                  : I + '"'
                              : (T
                                    ? ((x[++h] = !0),
                                      (m[h] = 0),
                                      p &&
                                          ((y[_++] = tt++),
                                          (c = u[_] = { bd: [] }),
                                          (k[_] = ""),
                                          (C[_] = 1)),
                                      T)
                                    : "") +
                                (J
                                    ? h
                                        ? ""
                                        : ((f = L.slice(f, tt)),
                                          (o ? ((o = s = !1), "\b") : "\b,") +
                                              f +
                                              ((f = tt + r.length),
                                              p && n.push((c.bd = [])),
                                              "\b"))
                                    : R
                                      ? (_ && yt(t),
                                        p && n.pop(),
                                        (o = "_" + P),
                                        (f = tt + r.length),
                                        p && ((p = c.bd = n[o] = []).skp = !A),
                                        P + ":")
                                      : P
                                        ? P.split("^")
                                              .join(".")
                                              .replace(
                                                  g.rPath,
                                                  function (
                                                      t,
                                                      e,
                                                      r,
                                                      a,
                                                      d,
                                                      l,
                                                      u,
                                                      f
                                                  ) {
                                                      if (
                                                          ((G = "." === r),
                                                          r &&
                                                              ((P = P.slice(
                                                                  e.length
                                                              )),
                                                              /^\.?constructor$/.test(
                                                                  f || P
                                                              ) && yt(t),
                                                              G ||
                                                                  (t =
                                                                      e +
                                                                      ("view.data" ===
                                                                      (t =
                                                                          (V
                                                                              ? (i
                                                                                    ? ""
                                                                                    : "(ltOb.lt=ltOb.lt||") +
                                                                                "(ob="
                                                                              : "") +
                                                                          (a
                                                                              ? 'view.ctxPrm("' +
                                                                                a +
                                                                                '")'
                                                                              : d
                                                                                ? "view"
                                                                                : "data") +
                                                                          (V
                                                                              ? ")===undefined" +
                                                                                (i
                                                                                    ? ""
                                                                                    : ")") +
                                                                                '?"":view._getOb(ob,"'
                                                                              : "") +
                                                                          (f
                                                                              ? (l
                                                                                    ? "." +
                                                                                      l
                                                                                    : a ||
                                                                                        d
                                                                                      ? ""
                                                                                      : "." +
                                                                                        r) +
                                                                                (u ||
                                                                                    "")
                                                                              : ((f =
                                                                                    a
                                                                                        ? ""
                                                                                        : d
                                                                                          ? l ||
                                                                                            ""
                                                                                          : r),
                                                                                "")) +
                                                                          (f
                                                                              ? "." +
                                                                                f
                                                                              : "")).slice(
                                                                          0,
                                                                          9
                                                                      )
                                                                          ? t.slice(
                                                                                5
                                                                            )
                                                                          : t) +
                                                                      (V
                                                                          ? (i
                                                                                ? '"'
                                                                                : '",ltOb') +
                                                                            (E
                                                                                ? ",1)"
                                                                                : ")")
                                                                          : "")),
                                                              p))
                                                      ) {
                                                          if (
                                                              ((H =
                                                                  "_linkTo" ===
                                                                  o
                                                                      ? (s =
                                                                            n._jsvto =
                                                                                n._jsvto ||
                                                                                [])
                                                                      : c.bd),
                                                              (W =
                                                                  G &&
                                                                  H[
                                                                      H.length -
                                                                          1
                                                                  ]))
                                                          ) {
                                                              if (W._cpfn) {
                                                                  for (; W.sb; )
                                                                      W = W.sb;
                                                                  W.prm &&
                                                                      (W.bnd &&
                                                                          (P =
                                                                              "^" +
                                                                              P.slice(
                                                                                  1
                                                                              )),
                                                                      (W.sb =
                                                                          P),
                                                                      (W.bnd =
                                                                          W.bnd ||
                                                                          "^" ===
                                                                              P[0]));
                                                              }
                                                          } else H.push(P);
                                                          E &&
                                                              !G &&
                                                              ((y[_] = tt),
                                                              (C[_] =
                                                                  k[_].length));
                                                      }
                                                      return t;
                                                  }
                                              ) + (E || F)
                                        : F ||
                                          (q
                                              ? "]" === q
                                                  ? ")]"
                                                  : ")"
                                              : O
                                                ? (w[h] || yt(t), ",")
                                                : a
                                                  ? ""
                                                  : ((l = S), (d = D), '"')))),
                        !l && !d && q && ((w[h] = !1), h--),
                        p &&
                            (!l &&
                                !d &&
                                (q &&
                                    (x[h + 1] &&
                                        ((c = u[--_]), (x[h + 1] = !1)),
                                    (b = m[h + 1])),
                                E &&
                                    ((m[h + 1] = k[_].length + +!!T),
                                    (P || q) &&
                                        ((c = u[++_] = { bd: [] }),
                                        (x[h + 1] = !0)))),
                            (k[_] = (k[_] || "") + L.slice(j, B)),
                            (j = B + r.length),
                            l ||
                                d ||
                                ((X = T && x[h + 1]) &&
                                    ((k[_ - 1] += T), C[_ - 1]++),
                                "(" === E &&
                                    G &&
                                    !z &&
                                    ((k[_] = k[_ - 1].slice(b) + k[_]),
                                    (k[_ - 1] = k[_ - 1].slice(0, b)))),
                            (k[_] += X ? Y.slice(1) : Y)),
                        !l && !d && E && (h++, P && "(" === E && (w[h] = !0)),
                        l || d || !K || (p && (k[_] += E), (Y += E)),
                        Y
                    );
                }
            )),
            p && (a = k[0]),
            (!h && a) || yt(t)
        );
    }
    function At(t, e, n) {
        var r,
            i,
            o,
            s,
            a,
            d,
            l,
            p,
            c,
            u,
            g,
            _,
            m,
            b,
            x,
            w,
            y,
            C,
            k,
            j,
            T,
            $,
            F,
            N,
            R,
            M,
            V,
            E,
            O,
            I,
            S,
            D,
            q,
            U,
            K = 0,
            L =
                v.useViews ||
                e.useViews ||
                e.tags ||
                e.templates ||
                e.helpers ||
                e.converters,
            Q = "",
            H = {},
            W = t.length;
        for (
            (void 0 === e ? "undefined" : _type_of(e)) === B
                ? ((k = n
                      ? 'data-link="' + e.replace(A, " ").slice(1, -1) + '"'
                      : e),
                  (e = 0))
                : ((k = e.tmplName || "unnamed"),
                  e.allowCode && (H.allowCode = !0),
                  e.debug && (H.debug = !0),
                  (_ = e.bnds),
                  (C = e.tmpls)),
                o = 0;
            o < W;
            o++
        )
            if ((void 0 === (s = t[o]) ? "undefined" : _type_of(s)) === B)
                Q += '+"' + s + '"';
            else if ("*" === (a = s[0])) Q += ";\n" + s[1] + "\nret=ret";
            else {
                if (
                    ((d = s[1]),
                    ($ = !n && s[2]),
                    (r = s[3]),
                    (i = b = s[4]),
                    (l =
                        "\n\tparams:{args:[" +
                        r[0] +
                        "],\n\tprops:{" +
                        r[1] +
                        "}" +
                        (r[2] ? ",\n\tctx:{" + r[2] + "}" : "") +
                        "},\n\targs:[" +
                        i[0] +
                        "],\n\tprops:{" +
                        i[1] +
                        "}" +
                        (i[2] ? ",\n\tctx:{" + i[2] + "}" : "")),
                    (S = s[6]),
                    (D = s[7]),
                    s[8]
                        ? ((q = "\nvar ob,ltOb={},ctxs="),
                          (U = ";\nctxs.lt=ltOb.lt;\nreturn ctxs;"))
                        : ((q = "\nreturn "), (U = "")),
                    (F = s[10] && s[10].replace(P, "$1")),
                    (M = "else" === a)
                        ? m && m.push(s[9])
                        : ((O = s[5] || (!1 !== h.debugMode && "undefined")),
                          _ && (m = s[9]) && ((m = [m]), (K = _.push(1)))),
                    (L = L || b[1] || b[2] || m || /view.(?!index)/.test(b[0])),
                    (V = ":" === a)
                        ? d && (a = d === J ? ">" : d + a)
                        : ($ &&
                              (((j = vt(F, H)).tmplName = k + "/" + a),
                              (j.useViews = j.useViews || L),
                              At($, j),
                              (L = j.useViews),
                              C.push(j)),
                          M ||
                              ((T = a),
                              (L = L || (a && (!f[a] || !f[a].flow))),
                              (R = Q),
                              (Q = "")),
                          (N = (N = t[o + 1]) && "else" === N[0])),
                    (I = O ? ";\ntry{\nret+=" : "\n+"),
                    (x = ""),
                    (w = ""),
                    V && (m || S || (d && d !== J) || D))
                ) {
                    if (
                        (((E = Function(
                            "data,view,j",
                            "// " +
                                k +
                                " " +
                                ++K +
                                " " +
                                a +
                                q +
                                "{" +
                                l +
                                "};" +
                                U
                        ))._er = O),
                        (E._tag = a),
                        (E._bd = !!m),
                        (E._lr = D),
                        n)
                    )
                        return E;
                    kt(E, m),
                        (g = !0),
                        (x = (y = 'c("' + d + '",view,') + K + ","),
                        (w = ")");
                }
                if (
                    ((Q += V
                        ? (n ? (O ? "try{\n" : "") + "return " : I) +
                          (g
                              ? ((g = void 0),
                                (L = u = !0),
                                y +
                                    (E ? ((_[K - 1] = E), K) : "{" + l + "}") +
                                    ")")
                              : ">" === a
                                ? ((c = !0), "h(" + b[0] + ")")
                                : "((v=" +
                                  b[0] +
                                  ")!=null?v:" +
                                  (n ? "null)" : '"")'))
                        : ((p = !0),
                          "\n{view:view,content:false,tmpl:" +
                              ($ ? C.length : "false") +
                              "," +
                              l +
                              "},")),
                    T && !N)
                ) {
                    if (
                        ((Q = "[" + Q.slice(0, -1) + "]"),
                        (y = 't("' + T + '",view,this,'),
                        n || m)
                    ) {
                        if (
                            (((Q = Function(
                                "data,view,j",
                                " // " + k + " " + K + " " + T + q + Q + U
                            ))._er = O),
                            (Q._tag = T),
                            m && kt((_[K - 1] = Q), m),
                            (Q._lr = D),
                            n)
                        )
                            return Q;
                        (x = y + K + ",undefined,"), (w = ")");
                    }
                    (Q = R + I + y + ((m && K) || Q) + ")"), (m = 0), (T = 0);
                }
                O &&
                    !N &&
                    ((L = !0),
                    (Q +=
                        ";\n}catch(e){ret" +
                        (n ? "urn " : "+=") +
                        x +
                        "j._err(e,view," +
                        O +
                        ")" +
                        w +
                        ";}" +
                        (n ? "" : "\nret=ret")));
            }
        Q =
            "// " +
            k +
            (H.debug ? "\ndebugger;" : "") +
            "\nvar v" +
            (p ? ",t=j._tag" : "") +
            (u ? ",c=j._cnvt" : "") +
            (c ? ",h=j._html" : "") +
            (n ? (s[8] ? ", ob" : "") + ";\n" : ',ret=""') +
            Q +
            (n ? "\n" : ";\nreturn ret;");
        try {
            Q = Function("data,view,j", Q);
        } catch (t) {
            yt(
                "Compiled template code:\n\n" +
                    Q +
                    '\n: "' +
                    (t.message || t) +
                    '"'
            );
        }
        return e && ((e.fn = Q), (e.useViews = !!L)), Q;
    }
    function Pt(t, e) {
        return t && t !== e ? (e ? st(st({}, e), t) : t) : e && st({}, e);
    }
    function $t(t, n) {
        var r,
            i,
            o,
            s = n.tag,
            a = n.props,
            p = n.params.props,
            c = a.filter,
            u = a.sort,
            f = !0 === u,
            g = parseInt(a.step),
            h = a.reverse ? -1 : 1;
        if (!l(t)) return t;
        if (
            (f || (u && (void 0 === u ? "undefined" : _type_of(u)) === B)
                ? ((r = t.map(function (t, e) {
                      return {
                          i: e,
                          v:
                              (void 0 === (t = f ? t : lt(t, u))
                                  ? "undefined"
                                  : _type_of(t)) === B
                                  ? t.toLowerCase()
                                  : t,
                      };
                  })).sort(function (t, e) {
                      return t.v > e.v ? h : t.v < e.v ? -h : 0;
                  }),
                  (t = r.map(function (e) {
                      return t[e.i];
                  })))
                : (u || h < 0) && !s.dataMap && (t = t.slice()),
            d(u) &&
                (t = t.sort(function () {
                    return u.apply(n, arguments);
                })),
            h < 0 && (!u || d(u)) && (t = t.reverse()),
            t.filter &&
                c &&
                ((t = t.filter(c, n)), n.tag.onFilter && n.tag.onFilter(n)),
            p.sorted &&
                ((r = u || h < 0 ? t : t.slice()),
                s.sorted
                    ? e.observable(s.sorted).refresh(r)
                    : (n.map.sorted = r)),
            (i = a.start),
            (o = a.end),
            ((p.start && void 0 === i) || (p.end && void 0 === o)) &&
                (i = o = 0),
            (isNaN(i) && isNaN(o)) ||
                ((i = +i || 0),
                (o = void 0 === o || o > t.length ? t.length : +o),
                (t = t.slice(i, o))),
            g > 1)
        ) {
            for (i = 0, o = t.length, r = []; i < o; i += g) r.push(t[i]);
            t = r;
        }
        return p.paged && s.paged && $observable(s.paged).refresh(t), t;
    }
    function Ft(t, n, r) {
        var i = this.jquery && (this[0] || wt("Unknown template")),
            o = i.getAttribute(Q);
        return bt.call((o && e.data(i)[H]) || p(i), t, n, r);
    }
    function Nt(t) {
        return U[t] || (U[t] = "&#" + t.charCodeAt(0) + ";");
    }
    function Rt(t, e) {
        return K[e] || "";
    }
    function Mt(t) {
        return null != t ? (M.test(t) && ("" + t).replace(O, Nt)) || t : "";
    }
    if (
        ((s = {
            jsviews: j,
            sub: {
                rPath: /^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,
                rPrm: /(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,
                View: gt,
                Err: ot,
                tmplFn: Ct,
                parse: Tt,
                extend: st,
                extendCtx: Pt,
                syntaxErr: yt,
                onStore: {
                    template: function (t, e) {
                        null === e ? delete z[t] : t && (z[t] = e);
                    },
                },
                addSetting: _t,
                settings: { allowCode: !1 },
                advSet: it,
                _thp: nt,
                _gm: et,
                _tg: function () {},
                _cnvt: function (t, e, n, r) {
                    var i,
                        o,
                        s,
                        a,
                        d,
                        l = "number" == typeof n && e.tmpl.bnds[n - 1];
                    if (
                        (void 0 === r && l && l._lr && (r = ""),
                        void 0 !== r
                            ? (n = r = { props: {}, args: [r] })
                            : l && (n = l(e.data, e, g)),
                        (l = l._bd && l),
                        t || l)
                    ) {
                        if (((i = (o = e._lc) && o.tag), (n.view = e), !i)) {
                            if (
                                ((i = st(new g._tg(), {
                                    _: { bnd: l, unlinked: !0, lt: n.lt },
                                    inline: !o,
                                    tagName: ":",
                                    convert: t,
                                    onArrayChange: !0,
                                    flow: !0,
                                    tagCtx: n,
                                    tagCtxs: [n],
                                    _is: "tag",
                                })),
                                (a = n.args.length) > 1)
                            )
                                for (d = i.bindTo = []; a--; ) d.unshift(a);
                            o && ((o.tag = i), (i.linkCtx = o)),
                                (n.ctx = Pt(n.ctx, (o ? o.view : e).ctx)),
                                nt(i, n);
                        }
                        (i._er = r && s),
                            (i.ctx = n.ctx || i.ctx || {}),
                            (n.ctx = void 0),
                            (s = i.cvtArgs()[0]),
                            (i._er = r && s);
                    } else s = n.args[0];
                    return null !=
                        (s = l && e._.onRender ? e._.onRender(s, e, i) : s)
                        ? s
                        : "";
                },
                _tag: function (t, e, n, r, i, s) {
                    function a(t) {
                        var e = d[t];
                        if (void 0 !== e)
                            for (_ = (e = l(e) ? e : [e]).length; _--; )
                                isNaN(parseInt((O = e[_]))) ||
                                    (e[_] = parseInt(O));
                        return e || [0];
                    }
                    var d,
                        p,
                        u,
                        f,
                        h,
                        v,
                        _,
                        m,
                        b,
                        x,
                        w,
                        y,
                        C,
                        k,
                        j,
                        T,
                        A,
                        P,
                        $,
                        F,
                        N,
                        R,
                        M,
                        V,
                        O,
                        I,
                        S,
                        D,
                        q,
                        U = 0,
                        K = "",
                        B = (e = e || o)._lc || !1,
                        L = e.ctx,
                        Q = n || e.tmpl,
                        H = "number" == typeof r && e.tmpl.bnds[r - 1];
                    for (
                        "tag" === t._is
                            ? ((t = (d = t).tagName),
                              (r = d.tagCtxs),
                              d.template)
                            : (p =
                                  e.getRsc("tags", t) ||
                                  wt("Unknown tag: {{" + t + "}} ")).template,
                            void 0 === s &&
                                H &&
                                (H._lr =
                                    (p.lateRender && !1 !== H._lr) || H._lr) &&
                                (s = ""),
                            void 0 !== s
                                ? ((K += s),
                                  (r = s =
                                      [
                                          {
                                              props: {},
                                              args: [],
                                              params: { props: {} },
                                          },
                                      ]))
                                : H && (r = H(e.data, e, g)),
                            v = r.length;
                        U < v;
                        U++
                    )
                        (T = (x = r[U]).tmpl),
                            (!B ||
                                !B.tag ||
                                (U && !B.tag.inline) ||
                                d._er ||
                                (T && +T === T)) &&
                                (T &&
                                    Q.tmpls &&
                                    (x.tmpl = x.content = Q.tmpls[T - 1]),
                                (x.index = U),
                                (x.ctxPrm = pt),
                                (x.render = bt),
                                (x.cvtArgs = ct),
                                (x.bndArgs = ft),
                                (x.view = e),
                                (x.ctx = Pt(Pt(x.ctx, p && p.ctx), L))),
                            (n = x.props.tmpl) &&
                                ((x.tmpl = e._getTmpl(n)),
                                (x.content = x.content || x.tmpl)),
                            d
                                ? B && B.fn._lr && (A = !!d.init)
                                : ((A = !!(d = new p._ctr()).init),
                                  (d.parent = h = L && L.tag),
                                  (d.tagCtxs = r),
                                  B && ((d.inline = !1), (B.tag = d)),
                                  (d.linkCtx = B),
                                  (d._.bnd = H || B.fn)
                                      ? ((d._.ths = x.params.props.this),
                                        (d._.lt = r.lt),
                                        (d._.arrVws = {}))
                                      : d.dataBoundOnly &&
                                        wt(
                                            t +
                                                " must be data-bound:\n{^{" +
                                                t +
                                                "}}"
                                        )),
                            (M = d.dataMap),
                            (x.tag = d),
                            M && r && (x.map = r[U].map),
                            d.flow ||
                                ((w = x.ctx = x.ctx || {}),
                                (u =
                                    d.parents =
                                    w.parentTags =
                                        (L && Pt(w.parentTags, L.parentTags)) ||
                                        {}),
                                h && (u[h.tagName] = h),
                                (u[d.tagName] = w.tag = d),
                                (w.tagCtx = x));
                    if (!(d._er = s)) {
                        for (
                            nt(d, r[0]),
                                d.rendering = { rndr: d.rendering },
                                U = 0;
                            U < v;
                            U++
                        ) {
                            if (
                                ((R = (x = d.tagCtx = r[U]).props),
                                (d.ctx = x.ctx),
                                !U)
                            ) {
                                if (
                                    (A && (d.init(x, B, d.ctx), (A = void 0)),
                                    x.args.length ||
                                        !1 === x.argDefault ||
                                        !1 === d.argDefault ||
                                        ((x.args = F = [x.view.data]),
                                        (x.params.args = ["#data"])),
                                    (C = a("bindTo")),
                                    void 0 !== d.bindTo && (d.bindTo = C),
                                    void 0 !== d.bindFrom
                                        ? (d.bindFrom = a("bindFrom"))
                                        : d.bindTo &&
                                          (d.bindFrom = d.bindTo = C),
                                    (k = d.bindFrom || C),
                                    (S = C.length),
                                    (I = k.length),
                                    d._.bnd &&
                                        (D = d.linkedElement) &&
                                        ((d.linkedElement = D = l(D) ? D : [D]),
                                        S !== D.length &&
                                            wt(
                                                "linkedElement not same length as bindTo"
                                            )),
                                    (D = d.linkedCtxParam) &&
                                        ((d.linkedCtxParam = D =
                                            l(D) ? D : [D]),
                                        I !== D.length &&
                                            wt(
                                                "linkedCtxParam not same length as bindFrom/bindTo"
                                            )),
                                    k)
                                )
                                    for (
                                        d._.fromIndex = {},
                                            d._.toIndex = {},
                                            m = I;
                                        m--;

                                    )
                                        for (O = k[m], _ = S; _--; )
                                            O === C[_] &&
                                                ((d._.fromIndex[_] = m),
                                                (d._.toIndex[m] = _));
                                B &&
                                    (B.attr = d.attr =
                                        B.attr || d.attr || B._dfAt),
                                    (f = d.attr),
                                    (d._.noVws = f && f !== J);
                            }
                            if (((F = d.cvtArgs(U)), d.linkedCtxParam))
                                for (
                                    N = d.cvtArgs(U, 1),
                                        _ = I,
                                        q = d.constructor.prototype.ctx;
                                    _--;

                                )
                                    (y = d.linkedCtxParam[_]) &&
                                        ((O = k[_]),
                                        (j = N[_]),
                                        (x.ctx[y] = g._cp(
                                            q && void 0 === j ? q[y] : j,
                                            void 0 !== j && ut(x.params, O),
                                            x.view,
                                            d._.bnd && {
                                                tag: d,
                                                cvt: d.convert,
                                                ind: _,
                                                tagElse: U,
                                            }
                                        )));
                            (P = R.dataMap || M) &&
                                (F.length || R.dataMap) &&
                                ((($ = x.map) && $.src === F[0] && !i) ||
                                    ($ && $.src && $.unmap(),
                                    P.map(F[0], x, $, !d._.bnd),
                                    ($ = x.map)),
                                (F = [$.tgt])),
                                (b = void 0),
                                d.render &&
                                    ((b = d.render.apply(d, F)),
                                    e.linked &&
                                        b &&
                                        !E.test(b) &&
                                        (((n = { links: [] }).render = n.fn =
                                            function () {
                                                return b;
                                            }),
                                        (b = xt(
                                            n,
                                            e.data,
                                            void 0,
                                            !0,
                                            e,
                                            void 0,
                                            void 0,
                                            d
                                        )))),
                                F.length || (F = [e]),
                                void 0 === b &&
                                    ((V = F[0]),
                                    d.contentCtx &&
                                        (V =
                                            !0 === d.contentCtx
                                                ? e
                                                : d.contentCtx(V)),
                                    (b = x.render(V, !0) || (i ? void 0 : ""))),
                                (K = K
                                    ? K + (b || "")
                                    : void 0 !== b
                                      ? "" + b
                                      : void 0);
                        }
                        d.rendering = d.rendering.rndr;
                    }
                    return (
                        (d.tagCtx = r[0]),
                        (d.ctx = d.tagCtx.ctx),
                        d._.noVws &&
                            d.inline &&
                            (K = "text" === f ? c.html(K) : ""),
                        H && e._.onRender ? e._.onRender(K, e, d) : K
                    );
                },
                _er: wt,
                _err: function (t, e, n) {
                    var r =
                        void 0 !== n
                            ? d(n)
                                ? n.call(e.data, t, e)
                                : n || ""
                            : "{Error: " + (t.message || t) + "}";
                    return (
                        h.onError &&
                            void 0 !==
                                (n = h.onError.call(e.data, t, n && r, e)) &&
                            (r = n),
                        e && !e._lc ? c.html(r) : r
                    );
                },
                _cp: rt,
                _sq: function (t) {
                    return "constructor" === t && yt(""), t;
                },
            },
            settings: {
                delimiters: function t(e, n, r) {
                    return e
                        ? l(e)
                            ? t.apply(s, e)
                            : ((y = r ? r[0] : y),
                              /^(\W|_){5}$/.test(e + n + y) ||
                                  wt("Invalid delimiters"),
                              (m = e[0]),
                              (b = e[1]),
                              (x = n[0]),
                              (w = n[1]),
                              (h.delimiters = [m + b, x + w, y]),
                              (e = "\\" + m + "(\\" + y + ")?\\" + b),
                              (n = "\\" + x + "\\" + w),
                              (i =
                                  "(?:(\\w+(?=[\\/\\s\\" +
                                  x +
                                  "]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\" +
                                  x +
                                  "]|\\" +
                                  x +
                                  "(?!\\" +
                                  w +
                                  "))*?)"),
                              (g.rTag = "(?:" + i + ")"),
                              (i = RegExp(
                                  "(?:" +
                                      e +
                                      i +
                                      "(\\/)?|\\" +
                                      m +
                                      "(\\" +
                                      y +
                                      ")?\\" +
                                      b +
                                      "(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))" +
                                      n,
                                  "g"
                              )),
                              (g.rTmpl = RegExp(
                                  "^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|" +
                                      e +
                                      ".*" +
                                      n
                              )),
                              _)
                        : h.delimiters;
                },
                advanced: function (t) {
                    return t ? (st(v, t), g.advSet(), _) : v;
                },
            },
            map: mt,
        }),
        ((ot.prototype = Error()).constructor = ot),
        (at.depends = function () {
            return [this.get("item"), "index"];
        }),
        (dt.depends = "index"),
        (gt.prototype = {
            get: function (t, e) {
                e || !0 === t || ((e = t), (t = void 0));
                var n,
                    r,
                    i,
                    o,
                    s = this,
                    a = "root" === e;
                if (t) {
                    if (!(o = e && s.type === e && s))
                        if (((n = s.views), s._.useKey)) {
                            for (r in n)
                                if ((o = e ? n[r].get(t, e) : n[r])) break;
                        } else
                            for (r = 0, i = n.length; !o && r < i; r++)
                                o = e ? n[r].get(t, e) : n[r];
                } else if (a) o = s.root;
                else if (e)
                    for (; s && !o; )
                        (o = s.type === e ? s : void 0), (s = s.parent);
                else o = s.parent;
                return o || void 0;
            },
            getIndex: dt,
            ctxPrm: pt,
            getRsc: function (t, e) {
                var n,
                    r,
                    i = this;
                if ((void 0 === e ? "undefined" : _type_of(e)) === B) {
                    for (; void 0 === n && i; )
                        (n = (r = i.tmpl && i.tmpl[t]) && r[e]), (i = i.parent);
                    return n || s[t][e];
                }
            },
            _getTmpl: function (t) {
                return t && (t.fn ? t : this.getRsc("templates", t) || p(t));
            },
            _getOb: lt,
            getCache: function (t) {
                return (
                    h._cchCt > this.cache._ct &&
                        (this.cache = { _ct: h._cchCt }),
                    void 0 !== this.cache[t]
                        ? this.cache[t]
                        : (this.cache[t] = Z[t](this.data, this, g))
                );
            },
            _is: "view",
        }),
        (g = s.sub),
        (_ = s.settings),
        !(G || (e && e.render)))
    ) {
        for (r in Y)
            !(function (t, e) {
                var n = t + "s";
                s[n] = function r(i, o, a) {
                    var d,
                        l,
                        p,
                        c = g.onStore[t];
                    if (
                        i &&
                        (void 0 === i ? "undefined" : _type_of(i)) === L &&
                        !i.nodeType &&
                        !i.markup &&
                        !i.getTgt &&
                        !(("viewModel" === t && i.getters) || i.extend)
                    ) {
                        for (l in i) r(l, i[l], o);
                        return o || s;
                    }
                    return (
                        i &&
                            (void 0 === i ? "undefined" : _type_of(i)) !== B &&
                            ((a = o), (o = i), (i = void 0)),
                        (p = a
                            ? "viewModel" === t
                                ? a
                                : (a[n] = a[n] || {})
                            : r),
                        (d = e.compile),
                        void 0 === o && ((o = d ? i : p[i]), (i = void 0)),
                        null === o
                            ? i && delete p[i]
                            : (d && ((o = d.call(p, i, o, a, 0) || {})._is = t),
                              i && (p[i] = o)),
                        c && c(i, o, a, d),
                        o
                    );
                };
            })(r, Y[r]);
        if (
            ((c = s.converters),
            (u = s.helpers),
            (f = s.tags),
            (g._tg.prototype = {
                baseApply: function (t) {
                    return this.base.apply(this, t);
                },
                cvtArgs: ct,
                bndArgs: ft,
                ctxPrm: pt,
            }),
            (o = g.topView = new gt()),
            e)
        ) {
            if (((e.fn.render = Ft), (a = e.expando), e.observable)) {
                if (j !== (j = e.views.jsviews))
                    throw "jquery.observable.js requires jsrender.js " + j;
                st(g, e.views.sub), (s.map = e.views.map);
            }
        } else
            (e = {}),
                n && (t.jsrender = e),
                (e.renderFile =
                    e.__express =
                    e.compile =
                        function () {
                            throw "Node.js: use npm jsrender, or jsrender-node.js";
                        }),
                (e.isFunction = function (t) {
                    return "function" == typeof t;
                }),
                (e.isArray =
                    Array.isArray ||
                    function (t) {
                        return "[object Array]" === {}.toString.call(t);
                    }),
                (g._jq = function (t) {
                    t !== e &&
                        (st(t, e),
                        ((e = t).fn.render = Ft),
                        delete e.jsrender,
                        (a = e.expando));
                }),
                (e.jsrender = j);
        for (C in (((h = g.settings).allowCode = !1),
        (d = e.isFunction),
        (e.render = z),
        (e.views = s),
        (e.templates = p = s.templates),
        h))
            _t(C);
        (_.debugMode = function (t) {
            return void 0 === t
                ? h.debugMode
                : (h._clFns && h._clFns(),
                  (h.debugMode = t),
                  (h.onError =
                      (void 0 === t ? "undefined" : _type_of(t)) === B
                          ? function () {
                                return t;
                            }
                          : d(t)
                            ? t
                            : void 0),
                  _);
        })(!1),
            (v = h.advanced = { cache: !0, useViews: !1, _jsv: !1 }),
            f({
                if: {
                    render: function (t) {
                        var e = this.tagCtx;
                        return this.rendering.done ||
                            (!t && (e.args.length || !e.index))
                            ? ""
                            : ((this.rendering.done = !0),
                              void (this.selected = e.index));
                    },
                    contentCtx: !0,
                    flow: !0,
                },
                for: {
                    sortDataMap: mt($t),
                    init: function (t, e) {
                        this.setDataMap(this.tagCtxs);
                    },
                    render: function (t) {
                        var e,
                            n,
                            r,
                            i,
                            o,
                            s = this.tagCtx,
                            a = !1 === s.argDefault,
                            d = s.props,
                            p = a || s.args.length,
                            c = "",
                            u = 0;
                        if (!this.rendering.done) {
                            if (((e = p ? t : s.view.data), a))
                                for (
                                    a = d.reverse ? "unshift" : "push",
                                        i = +d.end,
                                        o = +d.step || 1,
                                        e = [],
                                        r = +d.start || 0;
                                    (i - r) * o > 0;
                                    r += o
                                )
                                    e[a](r);
                            void 0 !== e &&
                                ((n = l(e)),
                                (c += s.render(e, !p || d.noIteration)),
                                (u += n ? e.length : 1)),
                                (this.rendering.done = u) &&
                                    (this.selected = s.index);
                        }
                        return c;
                    },
                    setDataMap: function (t) {
                        for (var e, n, r, i = t.length; i--; )
                            (n = (e = t[i]).props),
                                (r = e.params.props),
                                (e.argDefault =
                                    void 0 === n.end || e.args.length > 0),
                                (n.dataMap =
                                    !1 !== e.argDefault &&
                                    l(e.args[0]) &&
                                    (r.sort ||
                                        r.start ||
                                        r.end ||
                                        r.step ||
                                        r.filter ||
                                        r.reverse ||
                                        n.sort ||
                                        n.start ||
                                        n.end ||
                                        n.step ||
                                        n.filter ||
                                        n.reverse) &&
                                    this.sortDataMap);
                    },
                    flow: !0,
                },
                props: {
                    baseTag: "for",
                    dataMap: mt(function (t, n) {
                        var r,
                            i,
                            o = n.map,
                            s = o && o.propsArr;
                        if (!s) {
                            if (
                                ((s = []),
                                (void 0 === t ? "undefined" : _type_of(t)) ===
                                    L || d(t))
                            )
                                for (r in t)
                                    (i = t[r]),
                                        r !== a &&
                                            t.hasOwnProperty(r) &&
                                            (!n.props.noFunctions ||
                                                !e.isFunction(i)) &&
                                            s.push({ key: r, prop: i });
                            o && (o.propsArr = o.options && s);
                        }
                        return $t(s, n);
                    }),
                    init: it,
                    flow: !0,
                },
                include: { flow: !0 },
                "*": { render: rt, flow: !0 },
                ":*": { render: rt, flow: !0 },
                dbg:
                    (u.dbg = c.dbg =
                        function (t) {
                            try {
                                throw (
                                    (console.log(
                                        "JsRender dbg breakpoint: " + t
                                    ),
                                    "dbg breakpoint")
                                );
                            } catch (t) {}
                            return this.base ? this.baseApply(arguments) : t;
                        }),
            }),
            c({
                html: Mt,
                attr: Mt,
                encode: function (t) {
                    return (void 0 === t ? "undefined" : _type_of(t)) === B
                        ? t.replace(I, Nt)
                        : t;
                },
                unencode: function (t) {
                    return (void 0 === t ? "undefined" : _type_of(t)) === B
                        ? t.replace(S, Rt)
                        : t;
                },
                url: function (t) {
                    return null != t ? encodeURI("" + t) : null === t ? t : "";
                },
            });
    }
    return (
        (h = g.settings),
        (l = (e || G).isArray),
        _.delimiters("{{", "}}", "^"),
        X && G.views.sub._jq(e),
        e || G
    );
}),
    ($ = (global = window).jQuery),
    "object" ===
    ("undefined" == typeof exports ? "undefined" : _type_of(exports))
        ? (module.exports = $
              ? factory(global, $)
              : function (t) {
                    if (t && !t.fn) throw "Provide jQuery or null";
                    return factory(global, t);
                })
        : "function" == typeof define && define.amd
          ? define(function () {
                return factory(global);
            })
          : factory(global, !1);
//# sourceMappingURL=jsrender.min.js.map
